<div id="title">Contents of <a href="{{urlproto}}://{{urlhost}}{{urlpath}}">{{protocol}}://{{urlhost}}{{urlpath}}</a><br>
total items: {{ items }}, total size: {{ size|filesizeformat }}</div>
<br>
<div id="uplink"><a href="../{{fastup}}">Up</a></div>
<br>
<div id="filelist">
    <table>
        <tr>
            <td> </td>
            <td> </td>
            <td> size </td> 
            <td> file </td>
        </tr>
        {% for f in files %}
        <tr>
            <td> {{forloop.counter|add:offset}}. </td>
            <td>{% if f.dirid %} &lt;dir&gt; {% endif %}</td>
            <td> {{ f.size|filesizeformat }} </td> 
            {% if f.dirid %}
            <td> <a href = "{{ f.name }}?s={{share_id}}&p={{f.dirid}}"> {{ f.name }} </a></td>
            {% else %}
            <td> <a href = "{{urlproto}}://{{urlhost}}{{urlpath}}/{{f.name}}">{{ f.name }}</a> </td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
</div>

{% if gobar.nontrivial %}<br><div id="gobar">
    <table><tr>
        <td><a href="{{fastself}}&o={{gobar.first}}">first</a></td>
        {% if gobar.prev %}<td><a href="{{fastself}}&o={{gobar.prev}}">prev</a></td>{% endif %}
        {% for g in gobar.before %}<td><a href="{{fastself}}&o={{g}}">{{g}}</a></td>{% endfor %}
        <td>{{gobar.self}}</td>
        {% for g in gobar.after %}<td><a href="{{fastself}}&o={{g}}">{{g}}</a></td>{% endfor %}
        {% if gobar.next %}<td><a href="{{fastself}}&o={{gobar.next}}">next</a></td>{% endif %}
        <td><a href="{{fastself}}&o={{gobar.last}}">last</a></td>
    </tr></table>
</div></br>{% endif %}

<br>
<div id="sharestatus">
    This share is {{state}} since {{changetime|date:"D d M Y G:i"}}.
    Last scanned on {{scantime|date:"D d M Y G:i"}}.
</div>
